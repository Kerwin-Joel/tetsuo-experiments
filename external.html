<html>
    <head>
        <style>
            body,
            html {
                margin: 0;
                background: black;
            }

            #viewport {
                width: 1280px;
                height: 720px;
            }
        </style>
    </head>

    <body>
        <div id="viewport"></div>

        <script src="./lib/three.min.js"></script>
        <script src="./lib/tetsuo.min.js"></script>

        <script>
            TETSUO.Utils.ready(() => {
                let scene = new THREE.Scene();
                let camera = new THREE.PerspectiveCamera(75, 1280 / 720, 0.1, 1000);
                let renderer = new TETSUO.NodeRenderer();

                let box = new THREE.Mesh(
                    new THREE.BoxGeometry(1, 1, 1),
                    new THREE.MeshNormalMaterial()
                );

                box.position.set(0, 0, -2);

                let three = new TETSUO.THREENode("three", scene.renderer, {
                    scene,
                    camera,
                });

                renderer.connectToScreen(anaglyph);

                function tick(time) {
                    box.rotation.set(Math.sin(time), Math.cos(time), 0);

                    renderer.update(time);
                    renderer.render();

                    requestAnimationFrame(tick(performance.now()));
                }

                tick(performance.now());
            });
        </script>
    </body>
</html>
